{
  "title": "StepInputField",
  "description": "An input to a step.\n\nThis object can either have a 'connected_outputs' set, or a 'connected_pipeline_input', not both.",
  "type": "object",
  "properties": {
    "value_name": {
      "title": "Value Name",
      "type": "string"
    },
    "value_schema": {
      "$ref": "#/definitions/ValueSchema"
    },
    "pipeline_id": {
      "title": "Pipeline Id",
      "type": "string"
    },
    "step_id": {
      "title": "Step Id",
      "description": "The step id.",
      "type": "string"
    },
    "connected_outputs": {
      "title": "Connected Outputs",
      "description": "A potential connected list of one or several module outputs.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/StepValueAddress"
      }
    },
    "connected_pipeline_input": {
      "title": "Connected Pipeline Input",
      "description": "A potential pipeline input.",
      "type": "string"
    }
  },
  "required": [
    "value_name",
    "value_schema",
    "pipeline_id",
    "step_id"
  ],
  "additionalProperties": false,
  "definitions": {
    "ValueType": {
      "title": "ValueType",
      "description": "Supported value types.\n\nIt's very early days, so this does not really do anything yet.",
      "enum": [
        "any",
        "integer",
        "string",
        "dict",
        "boolean",
        "table",
        "value_items"
      ]
    },
    "ValueSchema": {
      "title": "ValueSchema",
      "description": "The schema of a value.\n\nThe schema contains the [ValueType][kiara.data.values.ValueType] of a value, as well as an optional default that\nwill be used if no user input was given (yet) for a value.\n\nFor more complex types like arrays and tables, a sub-schema will be available (e.g. columns of a table, type of\nthe array-items, ...). This bit is not implemented yet.",
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/ValueType"
        },
        "doc": {
          "title": "Doc",
          "description": "A description for the value of this input field.",
          "default": "-- n/a --",
          "type": "string"
        },
        "default": {
          "title": "Default",
          "description": "A default value."
        },
        "sub_schema": {
          "title": "Sub Schema",
          "description": "In case this schemas type is a container type (list, dict, ...), this field specifies the schema of its content.",
          "anyOf": [
            {
              "$ref": "#/definitions/ValueSchema"
            },
            {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/ValueSchema"
              }
            }
          ]
        }
      },
      "required": [
        "type"
      ]
    },
    "StepValueAddress": {
      "title": "StepValueAddress",
      "description": "Small model to describe the address of a value of a step, within a Pipeline/PipelineStructure.",
      "type": "object",
      "properties": {
        "step_id": {
          "title": "Step Id",
          "description": "The id of a step within a pipeline.",
          "type": "string"
        },
        "value_name": {
          "title": "Value Name",
          "description": "The name of the value (output name or pipeline input name).",
          "type": "string"
        },
        "sub_value": {
          "title": "Sub Value",
          "description": "A reference to a subitem of a value (e.g. column, list item)",
          "type": "string"
        }
      },
      "required": [
        "step_id",
        "value_name"
      ],
      "additionalProperties": false
    }
  }
}