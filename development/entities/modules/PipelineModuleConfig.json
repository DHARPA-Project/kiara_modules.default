{
  "title": "PipelineModuleConfig",
  "description": "A class to hold the configuration for a [PipelineModule][kiara.pipeline.module.PipelineModule].\n\nExamples:\n\n    Configuration for a pipeline module that functions as a ``nand`` logic gate (in Python):\n\n    ``` python\n    and_step = PipelineStepConfig(module_type=\"and\", step_id=\"and\")\n    not_step = PipelineStepConfig(module_type=\"not\", step_id=\"not\", input_links={\"a\": [\"and.y\"]}\n    nand_p_conf = PipelineModuleConfig(doc=\"Returns 'False' if both inputs are 'True'.\",\n                        steps=[and_step, not_step],\n                        input_aliases={\n                            \"and__a\": \"a\",\n                            \"and__b\": \"b\"\n                        },\n                        output_aliases={\n                            \"not__y\": \"y\"\n                        }}\n    ```\n\n    Or, the same thing in json:\n\n    ``` json\n    {\n      \"module_type_name\": \"nand\",\n      \"doc\": \"Returns 'False' if both inputs are 'True'.\",\n      \"steps\": [\n        {\n          \"module_type\": \"and\",\n          \"step_id\": \"and\"\n        },\n        {\n          \"module_type\": \"not\",\n          \"step_id\": \"not\",\n          \"input_links\": {\n            \"a\": \"and.y\"\n          }\n        }\n      ],\n      \"input_aliases\": {\n        \"and__a\": \"a\",\n        \"and__b\": \"b\"\n      },\n      \"output_aliases\": {\n        \"not__y\": \"y\"\n      }\n    }\n    ```",
  "type": "object",
  "properties": {
    "constants": {
      "title": "Constants",
      "description": "Value constants for this module.",
      "type": "object"
    },
    "steps": {
      "title": "Steps",
      "description": "A list of steps/modules of this pipeline, and their connections.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/PipelineStepConfig"
      }
    },
    "input_aliases": {
      "title": "Input Aliases",
      "description": "A map of input aliases, with the calculated (<step_id>__<input_name> -- double underscore!) name as key, and a string (the resulting workflow input alias) as value.",
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "output_aliases": {
      "title": "Output Aliases",
      "description": "A map of output aliases, with the calculated (<step_id>__<output_name> -- double underscore!) name as key, and a string (the resulting workflow output alias) as value.",
      "type": "object",
      "additionalProperties": {
        "type": "string"
      }
    },
    "doc": {
      "title": "Doc",
      "description": "Documentation about what the pipeline does.",
      "default": "-- n/a --",
      "type": "string"
    },
    "meta": {
      "title": "Meta",
      "description": "Metadata for this workflow.",
      "type": "object"
    }
  },
  "definitions": {
    "StepValueAddress": {
      "title": "StepValueAddress",
      "description": "Small model to describe the address of a value of a step, within a Pipeline/PipelineStructure.",
      "type": "object",
      "properties": {
        "step_id": {
          "title": "Step Id",
          "description": "The id of a step within a pipeline.",
          "type": "string"
        },
        "value_name": {
          "title": "Value Name",
          "description": "The name of the value (output name or pipeline input name).",
          "type": "string"
        },
        "sub_value": {
          "title": "Sub Value",
          "description": "A reference to a subitem of a value (e.g. column, list item)",
          "type": "string"
        }
      },
      "required": [
        "step_id",
        "value_name"
      ],
      "additionalProperties": false
    },
    "PipelineStepConfig": {
      "title": "PipelineStepConfig",
      "description": "A class to hold the configuration of one module within a [PipelineModule][kiara.pipeline.module.PipelineModule].",
      "type": "object",
      "properties": {
        "module_type": {
          "title": "Module Type",
          "description": "The name of the module type.",
          "type": "string"
        },
        "step_id": {
          "title": "Step Id",
          "description": "The id of the step.",
          "type": "string"
        },
        "module_config": {
          "title": "Module Config",
          "description": "The configuration for the module (module-type specific).",
          "type": "object"
        },
        "input_links": {
          "title": "Input Links",
          "description": "The map with the name of an input link as key, and the connected module output name(s) as value.",
          "type": "object",
          "additionalProperties": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/StepValueAddress"
            }
          }
        }
      },
      "required": [
        "module_type",
        "step_id"
      ],
      "additionalProperties": false
    }
  }
}